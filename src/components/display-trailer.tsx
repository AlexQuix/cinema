import React, {useEffect} from "react";
import LINK from "next/link";

import style from "./styles/display-trailer.module.css";

function ExhibitTrailer({trailer, setTrailer}:{trailer:Movie.Video|undefined, setTrailer:React.Dispatch<React.SetStateAction<Movie.Video | undefined>>}){
    function closeTrailer(){
        setTrailer(undefined);
    }
    return(
        <div
            className={style["container"]}
        >   
            <div
                className={style["wrapper-trailer"]}
            >
                <div
                    className={style["close"]}
                    onClick={closeTrailer}
                >
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                    width="339.177px" height="339.177px" viewBox="0 0 339.177 339.177">
                        <path d="M247.244,169.59l83.938-83.938c5.332-5.327,7.994-11.798,7.994-19.414c0-7.614-2.669-14.084-7.994-19.414L292.355,7.993
                            C287.026,2.665,280.556,0,272.944,0c-7.617,0-14.085,2.665-19.417,7.993L169.59,91.931L85.651,7.993
                            C80.325,2.665,73.854,0,66.237,0c-7.611,0-14.083,2.665-19.414,7.993L7.994,46.824C2.667,52.15,0,58.624,0,66.238
                            c0,7.616,2.664,14.084,7.994,19.414l83.937,83.938L7.994,253.528C2.667,258.859,0,265.327,0,272.945
                            c0,7.61,2.664,14.082,7.994,19.41l38.83,38.828c5.33,5.332,11.803,7.994,19.414,7.994c7.616,0,14.084-2.669,19.414-7.994
                            l83.939-83.938l83.944,83.938c5.328,5.332,11.793,7.994,19.417,7.994c7.611,0,14.082-2.669,19.411-7.994l38.82-38.828
                            c5.332-5.324,7.994-11.8,7.994-19.41c0-7.618-2.662-14.086-7.994-19.417L247.244,169.59z"/>
                    </svg>
                </div>
                <header className={style["title"]}><h1>{trailer?.name}</h1></header>
                <div className={style["wrapper-iframe"]}>
                    <iframe 
                        className={style["iframe"]}
                        src={`//www.youtube.com/embed/${trailer?.key}?autoplay=1&origin=http%3A%2F%2Fwww.themoviedb.org&hl=es&modestbranding=1&fs=1&autohide=1` }
                    >
                    </iframe>
                </div>
                <div className={style["link"]}>
                    <LINK
                        href={"/"}
                    >
                        <a>
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 511.999 511.999">
                                <g>
                                    <g>
                                        <path d="M467.069,212.578L267.381,12.861c-11.777-11.748-30.828-11.609-42.451-0.015c-11.689,11.719-11.689,30.747,0,42.451
                                            L424.647,255c11.7,11.7,30.721,11.7,42.422,0C478.801,243.268,478.801,224.308,467.069,212.578z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M210.115,82.905l-1.503,7.534c-10.587,52.958-36.317,103.269-71.118,144.046l108.647,108.647
                                            c40.772-34.794,90.39-61.215,143.35-71.815l7.548-1.503L210.115,82.905z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M117.575,256.989l-74.253,74.238c-17.545,17.545-17.618,46.029,0,63.647l42.422,42.422
                                            c17.545,17.545,46.029,17.617,63.647,0l74.246-74.246L117.575,256.989z M128.181,373.664c-5.859,5.859-15.352,5.859-21.211,0
                                            c-5.859-5.859-5.859-15.352,0-21.211l21.211-21.211c5.859-5.859,15.352-5.859,21.211,0c5.859,5.859,5.859,15.352,0,21.211
                                            L128.181,373.664z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M286.266,445.278l20.405-20.405c17.619-17.616,17.561-46.1,0.001-63.631l-15.156-15.167
                                            c-8.377,5.627-16.377,11.741-24.155,18.265l18.1,18.127c5.845,5.815,5.886,15.279,0,21.196l-20.742,20.742l-30.482-29.533
                                            l-42.424,42.424l68.057,65.947c11.614,11.644,30.683,11.71,42.407-0.015c11.704-11.704,11.704-30.732,0-42.437L286.266,445.278z"
                                            />
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M346.864,0c-8.291,0-15,6.709-15,15v30c0,8.291,6.709,15,15,15c8.291,0,15-6.709,15-15V15
                                            C361.864,6.709,355.155,0,346.864,0z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M466.864,120h-30c-8.291,0-15,6.709-15,15s6.709,15,15,15h30c8.291,0,15-6.709,15-15S475.155,120,466.864,120z"/>
                                    </g>
                                </g>
                                <g>
                                    <g>
                                        <path d="M447.469,34.394c-5.859-5.859-15.352-5.859-21.211,0l-30,30c-5.859,5.859-5.859,15.352,0,21.211s15.352,5.86,21.211,0
                                            l30-30C453.328,49.746,453.328,40.253,447.469,34.394z"/>
                                    </g>
                                </g>
                            </svg>
                            <span>See more trailers</span>
                        </a>
                    </LINK>
                </div>
            </div>
        </div>
    )
}

export default ExhibitTrailer;