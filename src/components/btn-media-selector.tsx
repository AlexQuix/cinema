import React, {useState} from "react";

interface Props{
    mediatype: "movie"|"tv";
    setMediaType:React.Dispatch<React.SetStateAction<"movie" | "tv">>;
}

import style from "./styles/btn-media-selector.module.css";

function BtnChangeMovieOrTV({setMediaType, mediatype}:Props){
    let [enableBtn, setEnableBtn] = useState<boolean>(true);
    function handleClick(choiceMedia:"movie"|"tv"){
        if(mediatype == choiceMedia){
            return;
        }
        if(choiceMedia === "movie"){
            setMediaType("movie");
        }
        if(choiceMedia === "tv"){
            setMediaType("tv");
        }
        setEnableBtn(false);
        setTimeout(()=>{
            setEnableBtn(true);
        }, 1700);
    }
    return (
        <div id={style["wrapper"]}>
            {!enableBtn?
                <span className={style["disable"]}></span>
                :undefined
            }
            <span 
                id='btn-movie' 
                className={style["btn-movie"]}
                onClick={()=>{handleClick("movie")}}
            >
                <svg width="39" height="34" viewBox="0 0 39 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M38.6251 17.421C38.2047 16.6737 37.2239 16.3935 36.43 16.8605L31.1056 19.943L29.7512 20.737V28.1163L31.0122 28.8636C31.0589 28.8636 31.0589 28.9103 31.1056 28.9103L36.3366 31.9461C36.5701 32.1329 36.897 32.2263 37.2239 32.2263C38.1113 32.2263 38.8119 31.5257 38.8119 30.6384V24.38L38.8586 18.215C38.8586 17.9347 38.8119 17.6545 38.6251 17.421Z"/>
                    <path d="M7.51989 15.0391C11.6766 15.0391 15.0393 11.6764 15.0393 7.51966C15.0393 3.36297 11.6766 0.000244141 7.51989 0.000244141C3.3632 0.000244141 0.000474195 3.36297 0.000474195 7.51966C-0.0462303 11.6764 3.3632 15.0391 7.51989 15.0391ZM7.51989 4.43717C9.24796 4.43717 10.6024 5.8383 10.6024 7.51966C10.6024 9.24773 9.20125 10.6022 7.51989 10.6022C5.83853 10.6022 4.4374 9.20102 4.4374 7.51966C4.39069 5.7916 5.79183 4.43717 7.51989 4.43717Z"/>
                    <path d="M26.5753 15.4594C25.361 16.0666 24.0066 16.4402 22.5587 16.4402C20.784 16.4402 19.1026 15.9265 17.7015 14.9924H12.3772C10.976 15.9265 9.29467 16.4402 7.5199 16.4402C6.07206 16.4402 4.71763 16.1133 3.50331 15.4594C2.42911 16.0666 1.68184 17.2809 1.68184 18.5886L1.68184 29.9845C1.68184 32.0862 3.4099 33.7676 5.4649 33.7676H24.6604C26.7621 33.7676 28.4435 32.0395 28.4435 29.9845V18.5886C28.3968 17.2809 27.6495 16.0666 26.5753 15.4594Z"/>
                    <path d="M22.5587 15.0391C26.7154 15.0391 30.0782 11.6764 30.0782 7.51966C30.0782 3.36297 26.7154 0.000244141 22.5587 0.000244141C18.402 0.000244141 15.0393 3.36297 15.0393 7.51966C15.0393 11.6764 18.402 15.0391 22.5587 15.0391ZM22.5587 4.43717C24.2868 4.43717 25.6412 5.8383 25.6412 7.51966C25.6412 9.24773 24.2401 10.6022 22.5587 10.6022C20.8774 10.6022 19.4762 9.20102 19.4762 7.51966C19.4762 5.7916 20.8307 4.43717 22.5587 4.43717Z"/>
                </svg>
            </span>
            <span 
                id="btn-tv" 
                className={style["btn-tv"]}
                onClick={()=>{handleClick("tv")}}
            >
                <svg width="39" height="33" viewBox="0 0 39 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M35.4138 25.5945H21.6966L28.6448 31.8202L27.3897 32.9595L20.1724 26.5304L12.9552 33.0002L11.7 31.8608L18.6483 25.6352H3.58621C1.61379 25.6352 0 24.1703 0 22.38V3.25543C0 1.46504 1.61379 0.00018692 3.58621 0.00018692H35.4138C37.3862 0.00018692 39 1.46504 39 3.25543V22.38C39 24.1297 37.3862 25.5945 35.4138 25.5945ZM24.2069 7.44655C24.2069 6.10376 22.9966 5.00512 21.5172 5.00512H7.62069C6.14138 5.00512 4.93103 6.10376 4.93103 7.44655V18.0261C4.93103 19.3689 6.14138 20.4675 7.62069 20.4675H21.5172C22.9966 20.4675 24.2069 19.3689 24.2069 18.0261V7.44655ZM30.931 5.98169C29.1828 5.98169 27.7931 7.2431 27.7931 8.83002C27.7931 10.417 29.1828 11.6784 30.931 11.6784C32.6793 11.6784 34.069 10.417 34.069 8.83002C34.069 7.2431 32.6793 5.98169 30.931 5.98169ZM34.5172 14.2419H27.3448V15.8695H34.5172V14.2419ZM34.5172 18.3109H27.3448V19.9385H34.5172V18.3109Z"/>
                </svg>
            </span>
            <span id="wrapper-background" className={style["wrapper-background"]}></span>
            <style jsx>{`
                @keyframes wave{
                    0%{
                        width: 50%;
                    }
                    50%{
                        width: 70%;
                    }
                    100%{
                        width: 50%;
                    }
                }
                #wrapper-background{
                    left: ${(mediatype === "movie")?"0px":"var(--left-btn-selector)"};
                    background: var(--color-btn-ligth);
                    animation: wave 0.4s 0s cubic-bezier(0, 0, 1, 1);
                }
                #btn-${mediatype}> svg{
                    fill: var(--color-light);
                }
            `}</style>
        </div>
    )
}

export default BtnChangeMovieOrTV;